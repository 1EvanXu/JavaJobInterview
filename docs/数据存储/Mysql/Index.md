## 数据库索引

### 索引带来的好处？
    
1. 唯一性索引可以保证数据表中每一行数据的唯一性
2. 可以大大加快查询速度
3. 加速表与表之间的连接
4. 加快查询中的排序和分组
5. 使用索引可以借助优化隐藏器来提高系统性能

### 索引的缺点有哪些？

1. 创建和维护索引需要时间
2. 保存索引需要额外的物理空间
3. 当表中数据需要增加、删除或修改时，索引也要动态维护，降低系统维护速度

### 如何高效地建立索引？

1. 在作为主键的列上，强制该列的唯一性和组织表中数据的排列结构
2. 在用在连接的列上，主要是外键
3. 在经常需要根据范围进行搜索的列上
4. 在经常需要排序的列上（索引已排序）
5. 在经常使用在where子句中的列上

### 索引在哪些情况下会失效？
    
1. 对于null的查询
2. 前导模糊搜索，例like “%aaa” 
3. 如果where子句中已经用了索引则order by中的列中索引是不会被使用的
4. 当Mysql觉得全表扫描比索引快的时候
5. 查询的列有字符串但没用引号的时候

### 聚集索引和非聚集索引？
- 聚集索引：该索引中的键值的逻辑顺序决定了表中相应行的物理顺序。由于聚集索引规定数据在表中的物理存储顺序，因此一个表只能包含一个聚集索引。
- 聚集索引的叶节点就是数据节点。非聚集索引的叶节点仍然是索引节点，只不过有一个指针指向对应的数据块。
- 聚集索引通常建立在小数目的不同值、经常做范围查询的列和经常分组的列，而不是频繁被更新的列。

### B+索引和散列索引的区别？
- Hash索引仅仅能满足“=”，“in” ，不能使用范围查询
- Hash索引无法被用来避免数据的排序操作
- hash不能利用部分索引键查询，对于组合索引完全失效